# Fury EKS Installer

## Providers

| Name       | Version |
| ---------- | ------- |
| aws        | 2.70.0  |
| kubernetes | 1.13.3  |

## Inputs

| Name                | Description                                                                                                                                            | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Default | Required |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------- | :------: |
| cluster_name        | Unique cluster name. Used in multiple resources to identify your cluster resources                                                                     | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | n/a     |   yes    |
| cluster_version     | Kubernetes Cluster Version. Look at the cloud providers documentation to discover available versions. EKS example -> 1.16, GKE example -> 1.16.8-gke.9 | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | n/a     |   yes    |
| dmz_cidr_range      | Network CIDR range from where cluster control plane will be accessible                                                                                 | `any`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | n/a     |   yes    |
| eks_map_accounts    | Additional AWS account numbers to add to the aws-auth configmap                                                                                        | `list(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | n/a     |   yes    |
| eks_map_roles       | Additional IAM roles to add to the aws-auth configmap                                                                                                  | <pre>list(object({<br>    rolearn  = string<br>    username = string<br>    groups   = list(string)<br>  }))<br></pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | n/a     |   yes    |
| eks_map_users       | Additional IAM users to add to the aws-auth configmap                                                                                                  | <pre>list(object({<br>    userarn  = string<br>    username = string<br>    groups   = list(string)<br>  }))<br></pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | n/a     |   yes    |
| network             | Network where the Kubernetes cluster will be hosted                                                                                                    | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | n/a     |   yes    |
| ssh_public_key      | Cluster administrator public ssh key. Used to access cluster nodes with the operator_ssh_user                                                          | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | n/a     |   yes    |
| subnetworks         | List of subnets where the cluster will be hosted                                                                                                       | `list`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | n/a     |   yes    |
| node_pools          | An object list defining node pools configurations                                                                                                      | <pre>list(object({<br>    name          = string<br>    version       = string # null to use cluster_version<br>    min_size      = number<br>    max_size      = number<br>    instance_type = string<br>    max_pods      = number # null to use default upstream configuration<br>    volume_size   = number<br>    subnetworks   = list(string) # null to use default upstream configuration<br>    labels        = map(string)<br>    taints        = list(string)<br>    tags          = map(string)<br>    eks_target_group_arns          = list(string)<br>    eks_ami_id    = string<br>    additional_firewall_rules = list(object({<br>      name        = string<br>      direction   = string<br>      cidr_block  = string<br>      protocol    = string<br>      ports       = string<br>      tags        = map(string)<br>    }))<br>  }))<br></pre> | `[]`    |    no    |
| resource_group_name | Resource group name where every resource will be placed. Required only in AKS installer (*)                                                            | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `""`    |    no    |
| tags                | The tags to apply to all resources                                                                                                                     | `map`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `{}`    |    no    |

## Outputs

| Name                          | Description                                                                                                                                                               |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| cluster_certificate_authority | The base64 encoded certificate data required to communicate with your cluster. Add this to the certificate-authority-data section of the kubeconfig file for your cluster |
| cluster_endpoint              | The endpoint for your Kubernetes API server                                                                                                                               |
| eks_cluster_oidc_issuer_url   | The URL on the EKS cluster OIDC Issuer                                                                                                                                    |
| eks_worker_iam_role_name      | Default IAM role name for EKS worker groups                                                                                                                               |
| eks_worker_security_group_id  | Security group ID attached to the EKS workers.                                                                                                                            |
| eks_workers_asg_names         | Names of the autoscaling groups containing workers.                                                                                                                       |
| operator_ssh_user             | SSH user to access cluster nodes with ssh_public_key                                                                                                                      |
